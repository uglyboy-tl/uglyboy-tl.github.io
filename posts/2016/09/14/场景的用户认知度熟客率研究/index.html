<!doctype html><html lang=zh-cn dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>场景的用户认知度（熟客率）研究 | 拾柒读库</title>
<meta name=keywords content="核心用户"><meta name=description content="如何用数据描述用户心智"><meta name=author content="癸老师"><link rel=canonical href=https://blog.uglyboy.cn/posts/2016/09/14/%E5%9C%BA%E6%99%AF%E7%9A%84%E7%94%A8%E6%88%B7%E8%AE%A4%E7%9F%A5%E5%BA%A6%E7%86%9F%E5%AE%A2%E7%8E%87%E7%A0%94%E7%A9%B6/><meta name=google-site-verification content="3G6_t7vAxMLWAnWZ3vEdzO31bCfdUbjWEHHCL_KDnjw"><meta name=msvalidate.01 content="XYZabc"><link crossorigin=anonymous href=/assets/css/stylesheet.d73d5a01dbf379e7897a3627eff85bf83c060878b9f292d177847340a76d2c8d.css integrity="sha256-1z1aAdvzeeeJejYn7/hb+DwGCHi58pLRd4RzQKdtLI0=" rel="preload stylesheet" as=style><link rel=icon href=https://blog.uglyboy.cn/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://blog.uglyboy.cn/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://blog.uglyboy.cn/favicon-32x32.png><link rel=apple-touch-icon href=https://blog.uglyboy.cn/apple-touch-icon.png><link rel=mask-icon href=https://blog.uglyboy.cn/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=zh-cn href=https://blog.uglyboy.cn/posts/2016/09/14/%E5%9C%BA%E6%99%AF%E7%9A%84%E7%94%A8%E6%88%B7%E8%AE%A4%E7%9F%A5%E5%BA%A6%E7%86%9F%E5%AE%A2%E7%8E%87%E7%A0%94%E7%A9%B6/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><link rel=stylesheet href=https://blog.uglyboy.cn/scss/main.min.bb0f243946b87c8f66307b9c43939ead878278180e8edada628b0d7ecd38edfc.css integrity="sha256-uw8kOUa4fI9mMHucQ5OerYeCeBgOjtraYosNfs047fw=" media=screen><script>MathJax={tex:{inlineMath:[["$","$"],["\\(","\\)"]],displayMath:[["$$","$$"],["\\[","\\]"]],processEscapes:!0,processEnvironments:!0},options:{enableExplorer:!1,skipHtmlTags:["script","noscript","style","textarea","pre"]}},window.addEventListener("load",e=>{document.querySelectorAll("mjx-container").forEach(function(e){e.parentElement.classList+="has-jax"})})</script><script src=https://cdnjs.cloudflare.com/ajax/libs/babel-polyfill/7.12.1/polyfill.min.js integrity="sha512-uzOpZ74myvXTYZ+mXUsPhDF+/iL/n32GDxdryI2SJronkEyKC8FBFRLiBQ7l7U/PTYebDbgTtbqTa6/vGtU23A==" crossorigin=anonymous referrerpolicy=no-referrer></script><script crossorigin=anonymous integrity="sha512-6FaAxxHuKuzaGHWnV00ftWqP3luSBRSopnNAA2RvQH1fOfnF/A1wOfiUWF7cLIOFcfb1dEhXwo5VG3DAisocRw==" src=https://lib.baomitu.com/mathjax/3.2.2/es5/tex-mml-chtml.min.js></script><link crossorigin=anonymous integrity="sha512-YZW7jSV4QrwpPzFxB77lAW4qNIeS6RaipaStONrpmbJsyh3zxM/3VoeQrrGlYkNS5nIjsKFURRHnsKhmE/vWmg==" href=https://lib.baomitu.com/lxgw-wenkai-webfont/latest/style.min.css rel=stylesheet><style>body,section{font-family:lxgw wenkai,sans-serif}</style><script async src="https://www.googletagmanager.com/gtag/js?id=G-0T89SF4PSW"></script><script>var dnt,doNotTrack=!1;if(!1&&(dnt=navigator.doNotTrack||window.doNotTrack||navigator.msDoNotTrack,doNotTrack=dnt=="1"||dnt=="yes"),!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-0T89SF4PSW")}</script><meta property="og:url" content="https://blog.uglyboy.cn/posts/2016/09/14/%E5%9C%BA%E6%99%AF%E7%9A%84%E7%94%A8%E6%88%B7%E8%AE%A4%E7%9F%A5%E5%BA%A6%E7%86%9F%E5%AE%A2%E7%8E%87%E7%A0%94%E7%A9%B6/"><meta property="og:site_name" content="拾柒读库"><meta property="og:title" content="场景的用户认知度（熟客率）研究"><meta property="og:description" content="如何用数据描述用户心智"><meta property="og:locale" content="zh-cn"><meta property="og:type" content="article"><meta property="article:section" content="posts"><meta property="article:published_time" content="2016-09-14T22:40:50+08:00"><meta property="article:modified_time" content="2024-11-08T22:15:47+08:00"><meta property="article:tag" content="核心用户"><meta name=twitter:card content="summary"><meta name=twitter:title content="场景的用户认知度（熟客率）研究"><meta name=twitter:description content="如何用数据描述用户心智"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"文章","item":"https://blog.uglyboy.cn/posts/"},{"@type":"ListItem","position":2,"name":"场景的用户认知度（熟客率）研究","item":"https://blog.uglyboy.cn/posts/2016/09/14/%E5%9C%BA%E6%99%AF%E7%9A%84%E7%94%A8%E6%88%B7%E8%AE%A4%E7%9F%A5%E5%BA%A6%E7%86%9F%E5%AE%A2%E7%8E%87%E7%A0%94%E7%A9%B6/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"场景的用户认知度（熟客率）研究","name":"场景的用户认知度（熟客率）研究","description":"如何用数据描述用户心智","keywords":["核心用户"],"articleBody":"背景 个性化推荐去年在我们集团取得了非常优异的成绩，为大促、日常场景都带来了非常大的突破，我身边的朋友们也都纷纷说现在的淘宝的个性化很棒。尤其是首图个性化技术，为我们打开了崭新的一扇窗，让诸多场景的日活、成交等核心指标都有了翻倍的提升。\n有了更先进的技术，却也带来了一些新的疑问——首图个性化究竟给各个具体的业务 场景带来了什么？各种业务指标的提升可能更多的反映着首图个性化的效果，与场景内的效 果怎样并没有特别大的关系了。所以我们需要有一个新的判定标准，让我们自己知道——现在场景内的效果并不能让用户满意，不急于通过首图来引流；或者现在场景内的用户认知度 和归属感很高，应当获得更多的引流来吸引更多的用户。\n如果存在这样一个判定标准，那么它应当是用户对一个场景的认知情况——即当用户 并不知道现在场景内的推荐效果时，他依然愿意来到这个场景的意愿。这便是我的一个基本假设：用户对一个场景的认知（喜爱程度）是可以不依赖于用户在场景内的行为，而仅仅通 过用户对场景的访问频率即可反映出来。\n熟客率定义 依据上文的基本假设，我们可以给出熟客率的定义：\n$$ \\text{熟客率} = \\frac{\\text{单位时间内内用户访问某场景的次数}}{\\text{单位时间内用户访问手淘的次数}} $$\n上述数据中有一些技术细节实现起来较复杂（例如一次访问手淘会多次访问某场景；或场景的 PV 日志是仅仅是请求的日志，未必是真实访问等等），我们用了一个粗略的方法来近似的得到熟客率：\n$$ \\text{熟客率} = \\frac{\\text{某场景月访问天数}}{\\text{手淘的月访问天数}} $$\n于是对每一个用户，都可以算出他最近一个月在各个场景的访问频度（熟客率）了。\n对某一个特定的场景而言，我们想要了解的是类似于：“高频用户的占比”这样的指标，来了解用户对于一个场景的喜爱程度，所以我们按照用户熟客率统计用户的分布情况：\n除去搜索的图型比较特别外，其他的场景数据都很像一个指数分布，于是我们对用户分布情况取对数再来观察：\n从这个图来看，基本符合我们的假设：用户分布情况是接近于指数分布的，但在访问频度为 1 的位置会产生很奇异的拐点，中间也有很多位置并不平滑。进一步分析发现，这样的现象主要是因为部分用户对手淘的访问天数过短，造成他们的访问信息并不具有有效性。为此，我们仅统计每月访问手淘 15 天以上的用户（用户量为：139523167，基本覆盖手淘的活跃用户）。\n重新统计的上图如下：\n这一回，整个曲线都变得平滑了（仅仅是在 0.3~0.4 附近感觉有拐点）。根据这个图，我们增加如下的假设：对一个场景而言，有认知的用户的的分布模型是一个指数分布；高频访问的用户基本都是有认知的用户。\n场景指标的计算 接上文，我们根据熟客率的指标可以用回归的方法统计出“有认知”的用户再场景内访问频率的分布情况：\n斜率 截距 有认知的用户量 认知用户平均熟客率 猜你喜欢 1.7431016306 16.357052585 7285426 57.37% 有好货 5.6656943459 16.580370553 2802272 17.65% 发现好店 7.198381533 17.412020797 5066519 13.89% 她在买 6.7192760078 13.955514186 171191 14.88% 女装 7.8873829626 16.842386083 2615908 12.68% 男装 9.3844322456 14.08435403 139428 10.66% 搜索 4.7601938755 19.56287163 65829803 21.01% 其中的斜率就是指数分布的概率密度函数中的系数 $\\lambda$，根据 $\\lambda$ 可以算出数学期望（平均 熟客率），截距和 $\\lambda$ 合在一起可以计算出指数分布的用户总量：\n$$ f(x) = \\lambda e^{-\\lambda} $$\n从而就能得到上面表格中的数据指标。\n我们再根据这个数据去反推一下没有场景认知的用户访问情况：\n图形也是呈指数分布，但这里的降幅快了很多（而且相比于原有的数据，误差增加了不少）。还是通过取对数，再根据散点图来观察：\n通过这个图来观察的话，指数分布的趋势明显了很多。用类似的方法，我们可以得到：\n斜率 截距 无认知的用户量 无认知用户平均访问频率 认知用户占比 认知用户转化增益 猜你喜欢 9.3894679073 17.8609986824 6085443 10.65% 54.49% 5.4 有好货 19.6362279409 19.0102797422 9183358 5.09% 23.38% 3.5 发现好店 18.7503695019 18.2540393165 4514594 5.33% 52.88% 2.6 她在买 27.7360657413 19.191585643 7793901 3.61% 2.15% 4.1 女装 61.7233508719 21.8490324548 49941863 1.62% 4.98% 7.8 男装 22.816772562 17.6569131267 2041953 4.38% 6.39% 2.4 其中的认知用户转化增益是指一个用户从无认知转变为有认知的用户，其访问频率提升的倍数。当然，并不是无认知的用户一定可以转化为有认知的用户，以女装为例，部分无认知的用户（例如男性）就很难转化为有认知的用户。\n注：这里的结论是，各个场景的用户分布都是两个指数分布的叠加，两个指数分布的参数不同。对于这个结论，我这边也通过其他的数据分析验证了这样的结果。另外对于这两个指数分布的参数求解问题，上文中的方法并不是最合适的方法，更合理的方式应该是用 EM 算法来反复迭代求解两个系数。本文的数据足以说明结论，所以没有进一步采用更精确的求解方法。\n另注：上述表格中用户量仅仅是统计分析的趋势值，并不是真实值预估，因为对重要指标计算基本没有影响，所以我并没有很细致的做归一化等工作。这个绝对数值还不能用来作为场景间评估和考量标准。\n指标的可靠性分析 用户维度熟客率指标的可靠性 因为场景下的用户分为：有认知的和无认知的两类，尤其是在熟客率较低的部分，两类用户不可分。为了便于分析，本节的讨论都仅针对有认知的用户进行分析，采样的方法：仅取熟客率大于 $0.5$ 的用户\n用户的熟客率是用一个月分访问频率来描述的，这个指标在某一天的体现即：一部分用户访问了手淘的用户这一天访问某场景的比例。熟客率的稳定性即：高频访问的用户和低频访问的用户是明显可分的——通常情况下不会出现大量的高频用户和低频用户的访问比例发生反转\n为验证这个结论我们用猜你喜欢的数据，统计了熟客率在 $0.5$$0.6$ 之间的用户和熟客率 再 $0.6$$0.7$ 之间的用户，他们再过去一个月中，每天访问概率的变化情况：\n是跟次日回访率一致的——用户再某一天的访问概率跟入口情况和时间周期有密切的联系， 但依然可以非常明显的看出：不同熟客率区间的用户，他们的访问概率是很明显的不同的， 但趋势又非常的一致。这说明熟客率这个指标是一个很稳定的衡量用户对场景认知的指标。\n用户熟客率与客户价值之间的关联 用户价值是指用户在场景内的具体行为贡献，包括点击、购买、客单价等等。因为熟客率计算是完全不考虑用户在场景内的行为的，所以跟诸如：CTR，CVR 等指标没有直接关联。我们想统计一下熟客率是否跟用户价值是正相关的。为简化研究复杂度（或者说我偷了个懒），这里仅统计了点击率（uctr），来验证用户熟客率和客户价值之间的关系。\n0% 10% 20% 30% 40% 50% 60% 70% 80% 90% 100.00% 有好货 37.29% 41.91% 47.34% 50.48% 52.69% 54.36% 55.92% 57.71% 60.13% 63.20% 67.11% 猜你喜欢 57.78% 64.47% 69.98% 74.35% 78.15% 81.56% 84.59% 87.41% 90.20% 93.33% 95.60% 如预期的，点击率同用户的熟客率很明显的正相关，即熟客率越高，点击率越高。有充分的理由相信，pctr，cvr， 客单价等指标也会有显著的相关性，但具体的结论还待进一步研究。\n同时这个结论也反向反映了另一个结论：上文中场景认知用户的指数分布系数 λ 越小，场景内价值体现的越好（高熟客率的用户占比更多，从而价值指标的平均值更高）。用通俗的话来解释就是：我们应当培养更多的老用户，他们能贡献更大的价值（虽然看上去是很显然的结论，但数据可以模型化这个结论并进一步的量化带来的收益）。\n相关结果对场景优化方向的指导性 我们反过来再分析一下场景下的“有认知用户平均熟客率（访问频度）”和“无认知用户平均熟客率”这两个指标。\n无认知的用户更多的是通过偶然的点击或者首图个性化吸引到场景内的，好的首图个性化可以提升这部分用户的占比，同时也可以提升这部分用户的熟客率分布曲线，创造出更多的将无认知用户转化为有认知用户的可能性；同时，好的首图个性化也能提升有认知的用户的熟客率分布曲线，从而提升场景价值。\n不同场景的“无认知用户平均熟客率”描述的是一个场景比较客观的，对新用户的友好程度——在手淘上位置隐藏越深，对新手而言越不友好；没有首图个性化对新手不友好；场景里用户心智不明确或者缺少新手引导等等，也是对新手的不友好。种种因素都会导致这个指标的高低；\n认知用户占比，说明的是流量冗余的问题（上文中的认知用户占比的计算可能因为未归一化带来较大的误差，不能作为一个确定值来对待，但整体趋势问题不大，例如猜你喜欢的认知用户占比远高于女装）。如果认知用户占比很低，说明流量中大量的都是新用户或者无认知用户。这个指标也说明了另一个潜在的问题：我们现有统计用户留存的指标都没有考虑用户本身的属性，像女装这类场景的用户留存，可能更多的反映的是首图的引流效果，而并不是场景内的真实的用户留存能力。\n对于占比很低的场景，需要的工作有三点：\n因种种原因决定了用户分布中大量的都是新用户，所以需要在产品设计上对新用户更友好； 提升场景内的用户留存能力（将新用户转化为老用户的能力）； 控制外部引流。现在场景的主要问题不是流量不足，而是场景本身兜不住这么大的流量。 当然，最核心的，最能创造价值的，还是有认知用户的熟客率指标。不断提升有认知 用户的熟客率指标，是一个产品长久发展的核心！另外我们也可以根据现有的有认知用户， 观察一个场景究竟更能吸引怎样的用户，以此来决定产品定位的调整或者做定向的投放来引流。\n熟客率指标作为算法优化指标的尝试 以猜你喜欢数据为例，对两个不同的分桶统计了单日访问率指标和次日回访率（）曲线是两个桶之间的差值：\n因为我这边并不知道猜你喜欢上具体做得是什么实验，所以没有办法进行物理含义的分析。但是从图上还是可以看到，熟客率是一个可衡量的指标，能够对具体的算法实验进行效果评估。\n另一方面，熟客率指标的整体趋势和回访率是比较接近的，但在一些特定的点上会有较大的差异性。带来这部分差异的，应该就是“有认知的用户”和“没有认知的用户”对待一些变化的不同反映。\n关于熟客率作为算法指标的优化，这部分现在还不是很成熟，需要进一步的探究。\n展望 为了简化工作量，相关的统计和计算都做了不少的简化，也由此带来了一些系统误差。例如用访问天代替访问次，会在物理含义上出现较大的变化，也会带来数据分析上的一些问题（指数分布会限制在 $0$~$1$,$1$ 的地方在特定情况下会产生奇异点）。没有用 em 算法来计算，新用户的数据的可靠性也不能保证。所以后续希望能和 BI 的同学合作，把数据的准确性提升来。\n另外前两天袁全给了一些指导性的建议，后续可以尝试用类似的方法考察用户在品牌（店铺）上的认知度，计算用户对商家而言的价值。\n再者，通过 $\\text{熟客率}\u003e0.5$ 的条件，可以圈定一个产品的高认知用户群，以此可以定向的分析用户图谱，做用户访谈等等，能更好的得到对产品而言更有价值的用户划分，以此来指导产品的后续改进方向。\n另外能否产出算法可优化指标方面，可能还需要进一步的探索。个人预期是，至少找到一些明确的能提升用户熟客率的手段（也许会带来其他指标的下降），给算法优化背后的物理意义一些更明确的理论阐述\n","wordCount":"4211","inLanguage":"zh-cn","datePublished":"2016-09-14T22:40:50+08:00","dateModified":"2024-11-08T22:15:47+08:00","author":{"@type":"Person","name":"癸老师"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://blog.uglyboy.cn/posts/2016/09/14/%E5%9C%BA%E6%99%AF%E7%9A%84%E7%94%A8%E6%88%B7%E8%AE%A4%E7%9F%A5%E5%BA%A6%E7%86%9F%E5%AE%A2%E7%8E%87%E7%A0%94%E7%A9%B6/"},"publisher":{"@type":"Organization","name":"拾柒读库","logo":{"@type":"ImageObject","url":"https://blog.uglyboy.cn/favicon.ico"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://blog.uglyboy.cn/ accesskey=h title="拾柒读库 (Alt + H)">拾柒读库</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://blog.uglyboy.cn/posts/ title=文章><span>文章</span></a></li><li><a href=https://blog.uglyboy.cn/slides/ title=演示><span>演示</span></a></li><li><a href=https://blog.uglyboy.cn/categories/ title=分类><span>分类</span></a></li><li><a href=https://blog.uglyboy.cn/tags/ title=标签><span>标签</span></a></li><li><a href=https://blog.uglyboy.cn/search/ title="搜索 (Alt + /)" accesskey=/><span>搜索</span></a></li><li><a href=https://blog.uglyboy.cn/archives/ title=时间轴><span>时间轴</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><h1 class="post-title entry-hint-parent">场景的用户认知度（熟客率）研究</h1><div class=post-description>如何用数据描述用户心智</div><div class=post-meta><span title='2016-09-14 22:40:50 +0800 CST'>2016-09-14</span>&nbsp;·&nbsp;9 min&nbsp;·&nbsp;癸老师</div></header><div class=post-content><h2 id=背景>背景<a hidden class=anchor aria-hidden=true href=#背景>#</a></h2><p>个性化推荐去年在我们集团取得了非常优异的成绩，为大促、日常场景都带来了非常大的突破，我身边的朋友们也都纷纷说现在的淘宝的个性化很棒。尤其是首图个性化技术，为我们打开了崭新的一扇窗，让诸多场景的日活、成交等核心指标都有了翻倍的提升。</p><p>有了更先进的技术，却也带来了一些新的疑问——首图个性化究竟给各个具体的业务 场景带来了什么？各种业务指标的提升可能更多的反映着首图个性化的效果，与场景内的效 果怎样并没有特别大的关系了。所以我们需要有一个新的判定标准，让我们自己知道——现在场景内的效果并不能让用户满意，不急于通过首图来引流；或者现在场景内的用户认知度 和归属感很高，应当获得更多的引流来吸引更多的用户。</p><p>如果存在这样一个判定标准，那么它应当是用户对一个场景的认知情况——即当用户 并不知道现在场景内的推荐效果时，他依然愿意来到这个场景的意愿。这便是我的一个基本假设：<strong>用户对一个场景的认知（喜爱程度）是可以不依赖于用户在场景内的行为，而仅仅通 过用户对场景的访问频率即可反映出来。</strong></p><h2 id=熟客率定义>熟客率定义<a hidden class=anchor aria-hidden=true href=#熟客率定义>#</a></h2><p>依据上文的基本假设，我们可以给出熟客率的定义：</p><p>$$
\text{熟客率} = \frac{\text{单位时间内内用户访问某场景的次数}}{\text{单位时间内用户访问手淘的次数}}
$$</p><p>上述数据中有一些技术细节实现起来较复杂（例如一次访问手淘会多次访问某场景；或场景的 PV 日志是仅仅是请求的日志，未必是真实访问等等），我们用了一个粗略的方法来近似的得到熟客率：</p><p>$$
\text{熟客率} = \frac{\text{某场景月访问天数}}{\text{手淘的月访问天数}}
$$</p><p>于是对每一个用户，都可以算出他最近一个月在各个场景的访问频度（熟客率）了。</p><p>对某一个特定的场景而言，我们想要了解的是类似于：“高频用户的占比”这样的指标，来了解用户对于一个场景的喜爱程度，所以我们按照用户熟客率统计用户的分布情况：</p><p><img alt=eh9us loading=lazy src=https://oss.uglyboy.cn/image/2024/11/ed36fef5db6aa9a3a0d485a801b9bba1.png></p><p>除去搜索的图型比较特别外，其他的场景数据都很像一个指数分布，于是我们对用户分布情况取对数再来观察：</p><p><img alt=1de9k loading=lazy src=https://oss.uglyboy.cn/image/2024/11/4a9d5159812fb1bcb0dc7719467b5efb.png></p><p>从这个图来看，基本符合我们的假设：用户分布情况是接近于指数分布的，但在访问频度为 1 的位置会产生很奇异的拐点，中间也有很多位置并不平滑。进一步分析发现，这样的现象主要是因为部分用户对手淘的访问天数过短，造成他们的访问信息并不具有有效性。为此，我们仅统计每月访问手淘 15 天以上的用户（用户量为：139523167，基本覆盖手淘的活跃用户）。</p><p>重新统计的上图如下：</p><p><img alt=r4srx loading=lazy src=https://oss.uglyboy.cn/image/2024/11/22e865edcd6e328d9e8dae49e470329f.png></p><p>这一回，整个曲线都变得平滑了（仅仅是在 0.3~0.4 附近感觉有拐点）。根据这个图，我们增加如下的假设：对一个场景而言，有认知的用户的的分布模型是一个指数分布；高频访问的用户基本都是有认知的用户。</p><h2 id=场景指标的计算>场景指标的计算<a hidden class=anchor aria-hidden=true href=#场景指标的计算>#</a></h2><p>接上文，我们根据熟客率的指标可以用回归的方法统计出“有认知”的用户再场景内访问频率的分布情况：</p><table><thead><tr><th></th><th>斜率</th><th>截距</th><th>有认知的用户量</th><th>认知用户平均熟客率</th></tr></thead><tbody><tr><td>猜你喜欢</td><td>1.7431016306</td><td>16.357052585</td><td>7285426</td><td>57.37%</td></tr><tr><td>有好货</td><td>5.6656943459</td><td>16.580370553</td><td>2802272</td><td>17.65%</td></tr><tr><td>发现好店</td><td>7.198381533</td><td>17.412020797</td><td>5066519</td><td>13.89%</td></tr><tr><td>她在买</td><td>6.7192760078</td><td>13.955514186</td><td>171191</td><td>14.88%</td></tr><tr><td>女装</td><td>7.8873829626</td><td>16.842386083</td><td>2615908</td><td>12.68%</td></tr><tr><td>男装</td><td>9.3844322456</td><td>14.08435403</td><td>139428</td><td>10.66%</td></tr><tr><td>搜索</td><td>4.7601938755</td><td>19.56287163</td><td>65829803</td><td>21.01%</td></tr></tbody></table><p>其中的斜率就是指数分布的概率密度函数中的系数 $\lambda$，根据 $\lambda$ 可以算出数学期望（平均 熟客率），截距和 $\lambda$ 合在一起可以计算出指数分布的用户总量：</p><p>$$
f(x) = \lambda e^{-\lambda}
$$</p><p>从而就能得到上面表格中的数据指标。</p><p>我们再根据这个数据去反推一下没有场景认知的用户访问情况：</p><p><img alt=ppjon loading=lazy src=https://oss.uglyboy.cn/image/2024/11/d9bdc2064350252b725e10fef415af1d.png></p><p>图形也是呈指数分布，但这里的降幅快了很多（而且相比于原有的数据，误差增加了不少）。还是通过取对数，再根据散点图来观察：</p><p><img alt=haxhn loading=lazy src=https://oss.uglyboy.cn/image/2024/11/bcd7581514347ac8c1f4f2237786d5e1.png></p><p>通过这个图来观察的话，指数分布的趋势明显了很多。用类似的方法，我们可以得到：</p><table><thead><tr><th></th><th>斜率</th><th>截距</th><th>无认知的用户量</th><th>无认知用户平均访问频率</th><th>认知用户占比</th><th>认知用户转化增益</th></tr></thead><tbody><tr><td>猜你喜欢</td><td>9.3894679073</td><td>17.8609986824</td><td>6085443</td><td>10.65%</td><td>54.49%</td><td>5.4</td></tr><tr><td>有好货</td><td>19.6362279409</td><td>19.0102797422</td><td>9183358</td><td>5.09%</td><td>23.38%</td><td>3.5</td></tr><tr><td>发现好店</td><td>18.7503695019</td><td>18.2540393165</td><td>4514594</td><td>5.33%</td><td>52.88%</td><td>2.6</td></tr><tr><td>她在买</td><td>27.7360657413</td><td>19.191585643</td><td>7793901</td><td>3.61%</td><td>2.15%</td><td>4.1</td></tr><tr><td>女装</td><td>61.7233508719</td><td>21.8490324548</td><td>49941863</td><td>1.62%</td><td>4.98%</td><td>7.8</td></tr><tr><td>男装</td><td>22.816772562</td><td>17.6569131267</td><td>2041953</td><td>4.38%</td><td>6.39%</td><td>2.4</td></tr></tbody></table><p>其中的认知用户转化增益是指一个用户从无认知转变为有认知的用户，其访问频率提升的倍数。当然，并不是无认知的用户一定可以转化为有认知的用户，以女装为例，部分无认知的用户（例如男性）就很难转化为有认知的用户。</p><p>注：这里的结论是，各个场景的用户分布都是两个指数分布的叠加，两个指数分布的参数不同。对于这个结论，我这边也通过其他的数据分析验证了这样的结果。另外对于这两个指数分布的参数求解问题，上文中的方法并不是最合适的方法，更合理的方式应该是用 EM 算法来反复迭代求解两个系数。本文的数据足以说明结论，所以没有进一步采用更精确的求解方法。</p><p>另注：上述表格中用户量仅仅是统计分析的趋势值，并不是真实值预估，因为对重要指标计算基本没有影响，所以我并没有很细致的做归一化等工作。这个绝对数值还不能用来作为场景间评估和考量标准。</p><h2 id=指标的可靠性分析>指标的可靠性分析<a hidden class=anchor aria-hidden=true href=#指标的可靠性分析>#</a></h2><h3 id=用户维度熟客率指标的可靠性>用户维度熟客率指标的可靠性<a hidden class=anchor aria-hidden=true href=#用户维度熟客率指标的可靠性>#</a></h3><p>因为场景下的用户分为：有认知的和无认知的两类，尤其是在熟客率较低的部分，两类用户不可分。为了便于分析，本节的讨论都仅针对有认知的用户进行分析，采样的方法：仅取熟客率大于 $0.5$ 的用户</p><p>用户的熟客率是用一个月分访问频率来描述的，这个指标在某一天的体现即：一部分用户访问了手淘的用户这一天访问某场景的比例。熟客率的稳定性即：高频访问的用户和低频访问的用户是明显可分的——通常情况下不会出现大量的高频用户和低频用户的访问比例发生反转</p><p>为验证这个结论我们用猜你喜欢的数据，统计了熟客率在 $0.5$<del>$0.6$ 之间的用户和熟客率 再 $0.6$</del>$0.7$ 之间的用户，他们再过去一个月中，每天访问概率的变化情况：</p><p><img alt=3esx3 loading=lazy src=https://oss.uglyboy.cn/image/2024/11/577e89955a2765d9c6bbb38c526427af.png></p><p>是跟次日回访率一致的——用户再某一天的访问概率跟入口情况和时间周期有密切的联系， 但依然可以非常明显的看出：不同熟客率区间的用户，他们的访问概率是很明显的不同的， 但趋势又非常的一致。这说明熟客率这个指标是一个很稳定的衡量用户对场景认知的指标。</p><h3 id=用户熟客率与客户价值之间的关联>用户熟客率与客户价值之间的关联<a hidden class=anchor aria-hidden=true href=#用户熟客率与客户价值之间的关联>#</a></h3><p>用户价值是指用户在场景内的具体行为贡献，包括点击、购买、客单价等等。因为熟客率计算是完全不考虑用户在场景内的行为的，所以跟诸如：CTR，CVR 等指标没有直接关联。我们想统计一下熟客率是否跟用户价值是正相关的。为简化研究复杂度（或者说我偷了个懒），这里仅统计了点击率（uctr），来验证用户熟客率和客户价值之间的关系。</p><table><thead><tr><th></th><th>0%</th><th>10%</th><th>20%</th><th>30%</th><th>40%</th><th>50%</th><th>60%</th><th>70%</th><th>80%</th><th>90%</th><th>100.00%</th></tr></thead><tbody><tr><td>有好货</td><td>37.29%</td><td>41.91%</td><td>47.34%</td><td>50.48%</td><td>52.69%</td><td>54.36%</td><td>55.92%</td><td>57.71%</td><td>60.13%</td><td>63.20%</td><td>67.11%</td></tr><tr><td>猜你喜欢</td><td>57.78%</td><td>64.47%</td><td>69.98%</td><td>74.35%</td><td>78.15%</td><td>81.56%</td><td>84.59%</td><td>87.41%</td><td>90.20%</td><td>93.33%</td><td>95.60%</td></tr></tbody></table><p><img alt=pftq1 loading=lazy src=https://oss.uglyboy.cn/image/2024/11/7c2e807c970ece961bffa00abcc0e33e.png></p><p>如预期的，点击率同用户的熟客率很明显的正相关，即熟客率越高，点击率越高。有充分的理由相信，pctr，cvr， 客单价等指标也会有显著的相关性，但具体的结论还待进一步研究。</p><p>同时这个结论也反向反映了另一个结论：上文中场景认知用户的指数分布系数 λ 越小，场景内价值体现的越好（高熟客率的用户占比更多，从而价值指标的平均值更高）。用通俗的话来解释就是：我们应当培养更多的老用户，他们能贡献更大的价值（虽然看上去是很显然的结论，但数据可以模型化这个结论并进一步的量化带来的收益）。</p><h3 id=相关结果对场景优化方向的指导性>相关结果对场景优化方向的指导性<a hidden class=anchor aria-hidden=true href=#相关结果对场景优化方向的指导性>#</a></h3><p>我们反过来再分析一下场景下的“有认知用户平均熟客率（访问频度）”和“无认知用户平均熟客率”这两个指标。</p><p>无认知的用户更多的是通过偶然的点击或者首图个性化吸引到场景内的，好的首图个性化可以提升这部分用户的占比，同时也可以提升这部分用户的熟客率分布曲线，创造出更多的将无认知用户转化为有认知用户的可能性；同时，好的首图个性化也能提升有认知的用户的熟客率分布曲线，从而提升场景价值。</p><p>不同场景的“无认知用户平均熟客率”描述的是一个场景比较客观的，对新用户的友好程度——在手淘上位置隐藏越深，对新手而言越不友好；没有首图个性化对新手不友好；场景里用户心智不明确或者缺少新手引导等等，也是对新手的不友好。种种因素都会导致这个指标的高低；</p><p>认知用户占比，说明的是流量冗余的问题（上文中的认知用户占比的计算可能因为未归一化带来较大的误差，不能作为一个确定值来对待，但整体趋势问题不大，例如猜你喜欢的认知用户占比远高于女装）。如果认知用户占比很低，说明流量中大量的都是新用户或者无认知用户。这个指标也说明了另一个潜在的问题：我们现有统计用户留存的指标都没有考虑用户本身的属性，像女装这类场景的用户留存，可能更多的反映的是首图的引流效果，而并不是场景内的真实的用户留存能力。</p><p>对于占比很低的场景，需要的工作有三点：</p><ol><li>因种种原因决定了用户分布中大量的都是新用户，所以需要在产品设计上对新用户更友好；</li><li>提升场景内的用户留存能力（将新用户转化为老用户的能力）；</li><li>控制外部引流。现在场景的主要问题不是流量不足，而是场景本身兜不住这么大的流量。</li></ol><p>当然，最核心的，最能创造价值的，还是有认知用户的熟客率指标。不断提升有认知 用户的熟客率指标，是一个产品长久发展的核心！另外我们也可以根据现有的有认知用户， 观察一个场景究竟更能吸引怎样的用户，以此来决定产品定位的调整或者做定向的投放来引流。</p><h2 id=熟客率指标作为算法优化指标的尝试>熟客率指标作为算法优化指标的尝试<a hidden class=anchor aria-hidden=true href=#熟客率指标作为算法优化指标的尝试>#</a></h2><p>以猜你喜欢数据为例，对两个不同的分桶统计了单日访问率指标和次日回访率（）曲线是两个桶之间的差值：</p><p><img alt=6dtdw loading=lazy src=https://oss.uglyboy.cn/image/2024/11/c1ab411d8d1424b4545620fe8d1db359.png></p><p>因为我这边并不知道猜你喜欢上具体做得是什么实验，所以没有办法进行物理含义的分析。但是从图上还是可以看到，熟客率是一个可衡量的指标，能够对具体的算法实验进行效果评估。</p><p>另一方面，熟客率指标的整体趋势和回访率是比较接近的，但在一些特定的点上会有较大的差异性。带来这部分差异的，应该就是“有认知的用户”和“没有认知的用户”对待一些变化的不同反映。</p><p>关于熟客率作为算法指标的优化，这部分现在还不是很成熟，需要进一步的探究。</p><h2 id=展望>展望<a hidden class=anchor aria-hidden=true href=#展望>#</a></h2><p>为了简化工作量，相关的统计和计算都做了不少的简化，也由此带来了一些系统误差。例如用访问天代替访问次，会在物理含义上出现较大的变化，也会带来数据分析上的一些问题（指数分布会限制在 $0$~$1$,$1$ 的地方在特定情况下会产生奇异点）。没有用 em 算法来计算，新用户的数据的可靠性也不能保证。所以后续希望能和 BI 的同学合作，把数据的准确性提升来。</p><p>另外前两天袁全给了一些指导性的建议，后续可以尝试用类似的方法考察用户在品牌（店铺）上的认知度，计算用户对商家而言的价值。</p><p>再者，通过 $\text{熟客率}>0.5$ 的条件，可以圈定一个产品的高认知用户群，以此可以定向的分析用户图谱，做用户访谈等等，能更好的得到对产品而言更有价值的用户划分，以此来指导产品的后续改进方向。</p><p>另外能否产出算法可优化指标方面，可能还需要进一步的探索。个人预期是，至少找到一些明确的能提升用户熟客率的手段（也许会带来其他指标的下降），给算法优化背后的物理意义一些更明确的理论阐述</p></div><footer class=post-footer><ul class=post-tags><li><a href=https://blog.uglyboy.cn/tags/%E6%A0%B8%E5%BF%83%E7%94%A8%E6%88%B7/>核心用户</a></li></ul><nav class=paginav><a class=prev href=https://blog.uglyboy.cn/slides/2017/10/11/%E6%8D%A2%E4%B8%AA%E8%A7%92%E5%BA%A6%E7%9C%8B%E6%8E%A8%E8%8D%90/><span class=title>« 上一页</span><br><span>换个角度看推荐</span></a></nav></footer></article></main><footer class=footer><span>&copy; 2024 <a href=https://blog.uglyboy.cn/>拾柒读库</a></span> ·
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="复制代码";function s(){t.innerHTML="已复制！",setTimeout(()=>{t.innerHTML="复制代码"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>